e56a257	Thanachai Wudhapitak	2017-01-20 12:00:38 +0000	Add work product exception testing to S5.
bbd3886	Thanachai Wudhapitak	2017-01-20 11:45:34 +0000	Add testing statistics into the build.
727daba	Jim Leach	2017-01-20 11:32:04 +0000	Add some extra fields into prep table if we need to debug
07d445b	Jim Leach	2017-01-20 10:53:33 +0000	Include bonus amounts in the calculation of hrly rate (rate = pay-pre-sal-sac + bonus - deductions / hours worked)
838e353	Jim Leach	2017-01-20 10:52:31 +0000	Add logic for apportioning bonus across pay periods for monthly employees
9fc7e05	Jim Leach	2017-01-20 10:15:52 +0000	Rename files to preserve ordering with bonus apportionment
3f05411	Jim Leach	2017-01-20 08:57:50 +0000	Update JML hours adjustments with new logic
2c92a73	Jim Leach	2017-01-20 08:33:59 +0000	Update hours adjustment logic
5d4afaf	Jim Leach	2017-01-20 08:33:39 +0000	Update logic for identifying leavers (use the leave date in place of left_in_prd flag
5556fe4	Jim Leach	2017-01-19 16:22:39 +0000	Remove weekly calc as monthyl changing (again) and more sensible to re-implement weekly once monthly is done@
5b9172b	Jim Leach	2017-01-19 14:22:09 +0000	Ensure weekly build does not multiply hours by 4
30eeaa5	Jim Leach	2017-01-19 14:21:41 +0000	Ensure weekly build looks at weekly employees
3d68d5b	Jim Leach	2017-01-19 14:21:15 +0000	Rename files
e108cd8	Jim Leach	2017-01-19 14:19:46 +0000	Add weekly calc files
db6170c	Jim Leach	2017-01-19 14:18:06 +0000	Remove weekly files to update again frmo basic calc
7f2efe0	Jim Leach	2017-01-19 14:17:13 +0000	Ensure build looks at hours adjusted for any JML status
c9642d2	Jim Leach	2017-01-19 12:50:31 +0000	Rename files
ef31fb6	Jim Leach	2017-01-19 12:50:13 +0000	Add JML employees back in
6bf9a26	Jim Leach	2017-01-19 12:49:13 +0000	Add initial code for making JML hours adjustments
b0a3d98	Jim Leach	2017-01-19 12:33:14 +0000	Create corrected flag for joiners
031c667	Jim Leach	2017-01-19 12:21:19 +0000	Update cleaning script for pay calendar
3d07157	Jim Leach	2017-01-19 11:54:42 +0000	Rename references to pay calendar table
da2bdac	Jim Leach	2017-01-19 11:52:59 +0000	Rename pay calendar files
b2fef4a	Jim Leach	2017-01-19 11:52:17 +0000	Rename pay calendar tables
d8c177d	Jim Leach	2017-01-19 11:48:36 +0000	Update calendar cleaning script for new fields in calendar
d02b088	Jim Leach	2017-01-19 11:38:14 +0000	Refactor code based on updates to S3 payments_to_employees table
4c08fad	Jim Leach	2017-01-19 11:37:13 +0000	Add indicator flags for exzclusions, and create this as a table not a view (to speed later computation)
c77d9a4	Jim Leach	2017-01-19 11:36:14 +0000	Refactor code based on updates to S3 payments_to_employees table
cea7eb0	Jim Leach	2017-01-19 11:35:27 +0000	Remove *4 from hours worked for weekly employees
70820e2	Jim Leach	2017-01-19 08:52:47 +0000	Ensure weekly calc employees is filtering to just the weekly employees
fe518a5	Jim Leach	2017-01-19 08:51:42 +0000	Rename weekly calc files
bf0912d	Jim Leach	2017-01-19 08:46:53 +0000	Convert basic_calc to weekly_calc
1b4ef46	Jim Leach	2017-01-19 08:45:27 +0000	Copy basic calc code into weekly calc folder ready to convert to weekly calc logic
eabb77c	Jim Leach	2017-01-19 08:38:15 +0000	Correct small bug in drop if exists logic, and rename percent underpaid field to be explicit is percent underpid employees
fb3b736	Jim Leach	2017-01-18 16:27:18 +0000	Add secondary calc including holiday hours
bbf9ee2	Jim Leach	2017-01-18 15:39:25 +0000	Remove old comment that was misleading re: calc logic
fd2d79e	Jim Leach	2017-01-18 15:36:44 +0000	Merge branch 'master' of //na02/da/Projects/Osbourne/./osbourne-repo
7a863a3	Jim Leach	2017-01-18 15:36:36 +0000	Add deductions into calc for hourly rate
cac03cb	Somto Okoye	2017-01-18 15:34:11 +0000	Merge branch 'master' of //na02/da/Projects/Osbourne/osbourne-repo
54f73fa	Jim Leach	2017-01-18 15:32:55 +0000	Rename files to re-order
45acdbe	Somto Okoye	2017-01-18 15:32:48 +0000	New MI information into Repo
883c06a	Somto Okoye	2017-01-18 15:25:40 +0000	Add S5 MI summary tables to repo
cb61ad9	Jim Leach	2017-01-18 15:22:54 +0000	Add new calc logic
35dfceb	Jim Leach	2017-01-18 15:18:57 +0000	Add total deductions to basic calc
d341816	Jim Leach	2017-01-18 11:23:51 +0000	Merge branch 'master' of //na02/da/Projects/Osbourne/./osbourne-repo
68be41a	Jim Leach	2017-01-18 11:23:44 +0000	Add basic summary of basic calc
38bdbc2	Somto Okoye	2017-01-18 11:10:39 +0000	add test comment into thr readme. prretty useless
6e49747	Jim Leach	2017-01-17 12:29:37 +0000	Merge branch 'master' of //na02/da/Projects/Osbourne/./osbourne-repo
da00a91	Jim Leach	2017-01-17 12:29:26 +0000	Add calc. step to determine if employee was underpaid
87d18c4	Lizzie Nairn	2017-01-17 12:10:04 +0000	Merge branch 'master' of //na02/da/Projects/Osbourne/osbourne-repo
ac271b9	Lizzie Nairn	2017-01-17 12:08:47 +0000	remove example comment in build-readme
48d3583	Sara young	2017-01-17 11:52:32 +0000	Sara editing S1 payments to include weeklyfiles
701acc9	Jim Leach	2017-01-17 10:51:40 +0000	Add lookup to payment period calendar dates, NMW at that date and determine if they were underpaid
9856ec4	Jim Leach	2017-01-17 10:50:54 +0000	Ensure weekly-paid employees are left out of calc
6eebcce	Jim Leach	2017-01-17 10:50:28 +0000	Add additional stat-payments into definition
b7b2ad3	Jim Leach	2017-01-17 09:00:47 +0000	Ensure employee age is retained as a field
fb65ee1	Sara young	2017-01-16 17:01:54 +0000	tesco calendar added to s2
3955e1d	Sara young	2017-01-16 16:54:04 +0000	add s1 view of tesco calendar
bcddb0e	Jim Leach	2017-01-16 16:15:01 +0000	Add restrictions to employee list based on leaver, as well as employee group
e56d80b	Jim Leach	2017-01-16 16:14:12 +0000	Parameterise build script to allow individual folders to be run
e89fe3b	Jim Leach	2017-01-16 15:22:33 +0000	Add filter to basic-calc employees
7befe45	Jim Leach	2017-01-16 15:22:19 +0000	Add filter to non-stat payment employees
25c19cb	Jim Leach	2017-01-16 15:09:40 +0000	Add flag for statutory payments calc
90f88f1	Jim Leach	2017-01-16 14:11:03 +0000	Add table to filter employees for basic calc
42db260	Jim Leach	2017-01-16 14:10:40 +0000	Remove selection of subset of payments
82707a1	Jim Leach	2017-01-16 12:33:23 +0000	Add calculation steps for total salary sacrifice, ss hourly equivalent and net hrly rate
17c9957	Jim Leach	2017-01-16 12:17:21 +0000	Add hourly rate recalc/check
6ad4d3e	Jim Leach	2017-01-16 11:44:24 +0000	Add code to perform first two steps of calculation
cdf9ff9	Jim Leach	2017-01-16 11:44:06 +0000	Change S3 to views as they will use the index from s2
a2feb27	Jim Leach	2017-01-16 11:43:39 +0000	Change cleaning script to set NULL value fields to 0, and re-format code to improve performance
b1e8b5e	Jim Leach	2017-01-16 09:51:02 +0000	Add work_days field into to s3_payments_days
ba3cc33	Jim Leach	2017-01-16 09:50:33 +0000	Add row-number as payment ID, but retain hash for uniqueness checks
2e0084b	Jim Leach	2017-01-16 09:14:55 +0000	Add single employee lookup table
37bb832	Jim Leach	2017-01-16 09:14:41 +0000	Remove duff old comments
21ef439	Jim Leach	2017-01-16 09:14:26 +0000	Add in weekly (NI) staff to S1 payments
a533093	Jim Leach	2017-01-13 16:08:23 +0000	Begin to split up payments table into separate tables corresponding to each type of data for a payment (e.g. hours worked, amount paid etc)
8c1229e	Jim Leach	2017-01-13 14:52:06 +0000	Add S2 and S3 for population reference indicators
def37a1	Jim Leach	2017-01-13 14:27:35 +0000	Remove payment ID from the index
25a4229	Jim Leach	2017-01-13 14:27:16 +0000	Remove conversion of payment_id to varchar
ec35bad	Jim Leach	2017-01-13 14:26:37 +0000	Add S1 population lookup
66f8173	Jim Leach	2017-01-13 14:13:28 +0000	Add payment ID in to S2 table
7978951	Jim Leach	2017-01-13 14:12:47 +0000	Change index on S1 table
7d67400	Jim Leach	2017-01-13 14:07:21 +0000	Use case logic to deal with numeric fields with embedded "CR" characters, and create an index on the table
812936b	Jim Leach	2017-01-13 14:06:02 +0000	Add simple payment_id (hash of employee code, group, tax week and payment year
4b19ecf	Jim Leach	2017-01-13 13:58:21 +0000	Add filename as variable to S1 table (for tracking)
ad6060a	Jim Leach	2017-01-13 10:18:25 +0000	Add further cleaning and make note of problem fields to be cleaned further
cab464a	Jim Leach	2017-01-13 09:46:56 +0000	Add further cleaning code
c8e19c5	Jim Leach	2017-01-13 08:35:56 +0000	Remove stored procedure rename and replace with select X as x, begin cleaning
45b8408	Jim Leach	2017-01-12 16:59:28 +0000	Minor tweaks of code in prep for major cleaning
87aba41	Jim Leach	2017-01-12 16:47:14 +0000	Create index on table
59f66b6	Jim Leach	2017-01-12 16:23:02 +0000	Merge branch 'master' of //na02/da/Projects/Osbourne/./osbourne-repo
95c0f86	Jim Leach	2017-01-12 16:22:47 +0000	Add all tables into union of s1_payments
0002e23	Sara young	2017-01-12 16:00:43 +0000	Merge branch 'master' of //na02/da/Projects/Osbourne/osbourne-repo
56e157c	Sara young	2017-01-12 15:59:25 +0000	write sara updating s2
8520bb5	Jim Leach	2017-01-12 15:41:07 +0000	Begin process of adding tables into single view
54667b2	Nicola McCabe	2017-01-12 13:55:30 +0000	Change input for creating s1 view
97b072f	Nicola McCabe	2017-01-12 13:52:41 +0000	Alter enddate field
71585a9	Jim Leach	2017-01-12 13:41:34 +0000	Change back to 2016 payment year label
5d9d6e2	Jim Leach	2017-01-12 13:35:37 +0000	Rename file
3158ae4	Jim Leach	2017-01-12 13:26:20 +0000	Rename files to match the tables they create
e277e08	Jim Leach	2017-01-12 13:25:03 +0000	Rename payment year field
1605a21	Sara young	2017-01-12 12:18:29 +0000	Write code to rename columns
a9372e1	Nicola McCabe	2017-01-12 11:03:10 +0000	Update script to remove CR from numeric columns
d5df614	Nicola McCabe	2017-01-12 10:41:59 +0000	Merge branch 'master' of //na02/da/Projects/Osbourne/osbourne-repo
fa46e15	Nicola McCabe	2017-01-12 10:41:32 +0000	To clean s1_payments data
83c5b32	Jim Leach	2017-01-12 10:09:29 +0000	Add build logging script to repo
6204eb5	Jim Leach	2017-01-12 10:06:41 +0000	Add sql teardown script to repo
8df730f	Sara young	2017-01-12 09:50:50 +0000	Merge branch 'master' of //na02/da/Projects/Osbourne/osbourne-repo
584b8ba	Sara young	2017-01-12 09:49:33 +0000	Sara is testing Git
9c6f4ef	Nicola McCabe	2017-01-12 09:46:58 +0000	Create s1 view and add year column
a0f84a7	Jim Leach	2017-01-12 08:37:03 +0000	Rename view to match name of script
0503848	Jim Leach	2017-01-12 08:36:01 +0000	Add .sql extension to filename
226039a	Jim Leach	2017-01-12 08:35:04 +0000	Rename file to preserve ordering
d350d7f	Nicola McCabe	2017-01-11 18:17:37 +0000	Merge branch 'master' of //na02/da/Projects/Osbourne/osbourne-repo
0446c3f	Nicola McCabe	2017-01-11 18:17:26 +0000	Add s1 table for wk40 data
d38c89c	Jim Leach	2017-01-11 14:04:46 +0000	Merge branch 'master' of //na02/da/Projects/Osbourne/./osbourne-repo
dc081bc	Jim Leach	2017-01-11 14:03:58 +0000	Remove test message from build readme
c7eb905	Nicola McCabe	2017-01-11 12:32:23 +0000	Edit server and database in powershell build script
e12c56e	Nicola McCabe	2017-01-11 11:15:35 +0000	Add s3 view of rates lookup
b8c1788	Nicola McCabe	2017-01-11 10:42:51 +0000	Transpose rate lookup table
0d92e52	Nicola McCabe	2017-01-11 10:20:01 +0000	Add s1 table for rate lookups
7bce1e6	Jim Leach	2017-01-10 16:55:02 +0000	Merge branch 'master' of //na02/da/Projects/Osbourne/./osbourne-repo
46125f8	Jim Leach	2017-01-10 16:54:35 +0000	Add cleanup schema script to repo
5e48930	Nicola McCabe	2017-01-10 16:50:54 +0000	Make minor change to build readme to illustrate git
29e3d01	Jim Leach	2017-01-10 11:55:26 +0000	Add build script to repo
4ca33d3	Jim Leach	2017-01-10 11:52:48 +0000	Add simple build readme to repo